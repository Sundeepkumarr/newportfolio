<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
    /* :root {
        --primary-color: #fe6807;
        --secondary-color: #34495e;
    } */

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }
 /* Hide Webkit scrollbar */
    ::-webkit-scrollbar {
        display: none;
    }

    /* Optional: For Firefox */
    html {
        scrollbar-width: none;
    }
    body {
        margin-top: 120px;
        font-family: 'Montserrat', sans-serif;
        padding: 20px 20px 0;
        background: linear-gradient(135deg, #fff7f0 0%, #ffe0c3 100%);
        min-height: 100vh;
        overflow-x: hidden;
        overflow-y: hidden;
    }
.filters {
    display: flex;
    justify-content: center; /* Evenly center the buttons */
    gap: 24px;               /* Space between buttons */
    margin-bottom: 20px;
}
    .filter-btn {
        /* margin-left: 20%; */
        padding: 12px 20px;
       gap: 15px;
        justify-content: center;
        margin-bottom: 15px;
        position: relative;
        overflow: hidden;
        background: #ffffff;
        color: #000000;
        box-shadow: 0 2px 12px rgba(254, 104, 7, 0.10);
        padding: 12px 20px;
        border: none;
        border-radius: 25px;
        font-size: 1rem;
        min-width: 120px;
        cursor: pointer;
        margin-top: 10px;
        align-self: flex-end;
        z-index: 1;
        transition: color 0.2s;
    }

    .filter-btn::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 25%;
        background: linear-gradient(90deg, #fe6807 60%, #ffb86c 100%);
        z-index: 0;
        border-radius: 25px;
        transition: width 0.4s cubic-bezier(.4, 2, .6, 1);
    }

    .filter-btn.active::before,
    .filter-btn:not(.active):hover::before {
        width: 100%;
    }

    .filter-btn span {
        position: relative;
        z-index: 1;
    }

    .filter-btn.active,
    .filter-btn:not(.active):hover {
        color: #000000;
        box-shadow: 0 4px 18px rgba(254, 104, 7, 0.13);
        transform: translateY(-2px) scale(1.04);
    }

    .projects-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
    }

    .project-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 3px 16px rgba(0, 0, 0, 0.1);
        transition: transform 0.4s cubic-bezier(.4, 0, .2, 1), box-shadow 0.3s;
        transform: translateY(40px) scale(0.97) rotateY(0deg);
        opacity: 0;
        animation: cardAppear 0.8s cubic-bezier(.4, 0, .2, 1) forwards;
        will-change: transform;
    }

    .project-card:hover {
        transform: translateY(-12px) scale(1.04) rotateY(6deg);
        box-shadow: 0 12px 32px rgba(44, 204, 113, 0.18);
    }

    @keyframes cardAppear {
        to {
            opacity: 1;
            transform: translateY(0) scale(1) rotateY(0deg);
        }
    }

    .project-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.5s cubic-bezier(.4, 0, .2, 1);
    }

    .project-card:hover .project-image {
        transform: scale(1.07) rotateZ(-2deg);
    }

    .project-content {
        padding: 20px;
    }

    .project-title {
        margin-bottom: 10px;
        color: var(--secondary-color);
        font-size: 1.3em;
    }

    .project-description {
        font-size: 14px;
        color: #666;
        margin-bottom: 15px;
    }

    .project-tech {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 15px;
    }

    .tech-tag {
        background: #f0f0f0;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 12px;
    }

    .project-links {
        display: flex;
        gap: 10px;
    }

    .project-link:hover {
        transform: translateY(-3px) scale(1.07) rotateZ(-2deg);
        box-shadow: 0 4px 16px rgba(239, 166, 20, 0.13);
    }

    .project-link {
        text-decoration: none;
        padding: 8px 15px;
        border-radius: 4px;
        font-size: 14px;
        transition: background 0.3s, transform 0.2s cubic-bezier(.4, 0, .2, 1), box-shadow 0.2s;
        will-change: transform;
    }

    .project-link.demo-link {
        background: var(--primary-color);
        color: white;
    }

    .project-link.code-link {
        background: var(--secondary-color);
        color: white;
    }

    .view-all {
        position: fixed;
        left: 50%;
        bottom: 40px;
        transform: translateX(-50%);
        overflow: hidden;
        background: #ffffff;
        color: #000000;
        box-shadow: 0 2px 12px rgba(254, 104, 7, 0.10);
        padding: 12px 20px;
        border: none;
        border-radius: 25px;
        font-size: 1rem;
        min-width: 120px;
        cursor: pointer;
        z-index: 100;
        transition: color 0.2s;
        justify-content: center;
        text-decoration: none;
        display: flex;
        margin: 0;
    }

    .view-all::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 20%;
        background: linear-gradient(90deg, #fe6807 60%, #ffb86c 100%);
        z-index: 0;
        border-radius: 25px;
        transition: width 0.4s cubic-bezier(.4, 2, .6, 1);
    }

    .view-all:hover::before {
        width: 100%;
    }

    .view-all span {
        position: relative;
        z-index: 1;
    }

    .error-message {
        color: #e74c3c;
        text-align: center;
        margin: 20px 0;
    }

    .animated-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background: var(--secondary-color);
        color: #fff;
        font-size: 2rem;
        /* font-weight: 700; */
        text-align: center;
        padding: 28px 0 20px 0;
        z-index: 1000;
        cursor: pointer;
        box-shadow: 0 2px 16px rgba(52, 73, 94, 0.08);
        transform: translateY(0);
        /* Always visible */
        /* transition: transform 0.5s cubic-bezier(.4,0,.2,1); */
    }

    .animated-header.visible {
        transform: translateY(0);
    }

    .projects-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
        /* Parallax effect */
        will-change: transform;
        transition: transform 0.5s cubic-bezier(.4, 0, .2, 1);
    }
</style>
<section id="project" class="projects-section">
    <!-- <div class="source-toggle" role="tablist" aria-label="Project Source">
        <button class="source-btn active" data-source="all"><span>All Projects</span></button>
    </div> -->
    <div class="filters" role="tablist" aria-label="Project Type">
        <button class="filter-btn" data-filter="personal"><span>Public</span></button>
        <button class="filter-btn" data-filter="professional"><span>Private</span></button>
    </div>
    <div class="projects-parallax-wrapper">
        <div class="projects-container" id="projectsContainer"></div>
    </div>
    <a href="#" class="view-all">
        <span>View All Projects </span> </a>


</section>
<script>
    // Load header content dynamically
    fetch("../header.html")
    .then(response => response.text())
    .then(data => {
      document.getElementById("header-container").innerHTML = data;
      const hamburger = document.querySelector(".hamburger");
      const navLinks = document.querySelector(".nav-links");
      if (hamburger && navLinks) {
        hamburger.addEventListener("click", () => {
          navLinks.classList.toggle("active");
          hamburger.classList.toggle("toggle");
        });
      }
    })
    .catch(err => console.error("Error loading header:", err));

    // --- CONFIGURATION ---
    const config = {
        githubUsername: 'Sundeepkumarr',
        githubToken: '', // <-- Add your GitHub personal access token here for private repos
        githubTopicFilter: '',
        defaultImage: 'https://via.placeholder.com/400x200?text=GitHub+Project',
        manualProjects: [] // Add your manual projects here if needed
    };

    let allProjects = [];
    let currentSource = 'all';
    let currentVisibility = 'personal'; // 'personal' for public, 'professional' for private

    async function fetchGitHubProjects() {
        try {
            const response = await fetch(
                `https://api.github.com/users/${config.githubUsername}/repos?per_page=100&type=all`,
                {
                    headers: {
                        'Accept': 'application/vnd.github.mercy-preview+json'
                    }
                }
            );
            if (!response.ok) throw new Error('GitHub API error');
            const repos = await response.json();
            return repos.map(repo => ({
                source: 'github',
                category: repo.private ? 'professional' : 'personal', // professional = private, personal = public
                image: config.defaultImage,
                title: repo.name,
                description: repo.description || 'No description available',
                tags: [
                    ...(repo.topics || []),
                    repo.language
                ].filter(Boolean),
                demo: repo.homepage || '#',
                code: repo.html_url
            }));
        } catch (error) {
            showError('Error fetching GitHub projects.');
            return [];
        }
    }

    function showError(message) {
        const errorElement = document.createElement('div');
        errorElement.className = 'error-message';
        errorElement.textContent = message;
        document.getElementById('projectsContainer').appendChild(errorElement);
    }

    function filterProjects(source, categoryFilter) {
        return allProjects.filter(project => {
            const sourceMatch = source === 'all' || project.source === source;
            const categoryMatch = categoryFilter === 'all' || project.category === categoryFilter;
            return sourceMatch && categoryMatch;
        });
    }

    async function initialize() {
        const githubProjects = await fetchGitHubProjects();
        allProjects = [
            ...(config.manualProjects || []).map(p => ({ ...p, source: 'manual' })),
            ...githubProjects
        ];
        createProjectCards(currentVisibility);
    }

    function createProjectCards(filter = 'personal') {
        const container = document.getElementById('projectsContainer');
        container.innerHTML = '';
        const filteredProjects = filterProjects(currentSource, filter);

        if (filteredProjects.length === 0) {
            container.innerHTML = '<div class="error-message">No projects found</div>';
            return;
        }

        filteredProjects.forEach((project, i) => {
            const card = document.createElement('div');
            card.className = 'project-card';
            card.style.animationDelay = (i * 0.08) + 's';
            card.innerHTML = `
            <div class="project-content">
                <h3 class="project-title">${project.title}</h3>
                <p class="project-description">${project.description}</p>
                <div class="project-tech">
                    ${project.tags.map(tag => `<span class="tech-tag">${tag}</span>`).join('')}
                </div>
                <div class="project-links">
                    <a href="${project.demo}" class="project-link demo-link" target="_blank" rel="noopener">Live Demo</a>
                    <a href="${project.code}" class="project-link code-link" target="_blank" rel="noopener">View Code</a>
                </div>
                <div style="margin-top:10px;font-size:12px;color:#888;">
                    Source: ${project.source === 'github' ? 'GitHub' : 'Manual'}
                </div>
            </div>
        `;
            container.appendChild(card);
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        // Remove .source-toggle event if not used
        document.querySelector('.filters').addEventListener('click', (e) => {
            if (e.target.classList.contains('filter-btn')) {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                e.target.classList.add('active');
                const filter = e.target.dataset.filter;
                currentVisibility = filter;
                createProjectCards(filter);
            }
        });

        document.querySelector('.view-all').addEventListener('click', (e) => {
            e.preventDefault();
            // Show both public and private
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            createProjectCards('all');
        });

        document.body.addEventListener('click', function (e) {
            if (e.target.matches('a[href^="#"]')) {
                const targetId = e.target.getAttribute('href').slice(1);
                const target = document.getElementById(targetId);
                if (target) {
                    e.preventDefault();
                    window.scrollTo({
                        top: target.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            }
        });

        initialize();
    });
    // document.addEventListener('scroll', function () {
    //     const wrapper = document.querySelector('.projects-parallax-wrapper');
    //     const container = document.getElementById('projectsContainer');
    //     if (!wrapper || !container) return;
    //     const rect = wrapper.getBoundingClientRect();
    //     if (rect.top < window.innerHeight && rect.bottom > 0) {
    //         const offset = window.scrollY * 0.08;
    //         container.style.transform = `translateY(${offset}px) rotateY(${offset * 0.08}deg)`;
    //     }
    // });
</script>